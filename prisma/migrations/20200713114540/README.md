# Migration `20200713114540`

This migration has been generated by Eugene Barannik at 7/13/2020, 11:45:40 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "test3"."Account" DROP COLUMN "updatedAt";

ALTER TABLE "test3"."Transaction" DROP COLUMN "updatedAt";

ALTER TABLE "test3"."User" DROP COLUMN "createdAt",
DROP COLUMN "name",
DROP COLUMN "updatedAt",
ADD COLUMN "firstName" text   ,
ADD COLUMN "lastName" text   ,
ADD COLUMN "middleName" text   ,
ALTER COLUMN "email" SET NOT NULL,
ALTER COLUMN "password" SET NOT NULL;
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200627172714-init..20200713114540
--- datamodel.dml
+++ datamodel.dml
@@ -1,51 +1,49 @@
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
 }
 model User {
-  id        String              @id @default(cuid())
-  createdAt DateTime    @default(now())
-  updatedAt DateTime    @updatedAt
-  name      String?
-  accounts  Account[]
-  email     String?     @unique
-  password  String?
-  roles     UserRole[]
+    id                      String    @id @default(cuid())
+    email                   String    @unique
+    password                String
+    firstName               String?
+    middleName              String?
+    lastName                String?
+    roles                   UserRole[]
+    accounts                Account[]
 }
 model Account {
-  id            String              @id @default(cuid())
-  createdAt     DateTime      @default(now())
-  updatedAt     DateTime      @updatedAt
-  name          String
-  currency      Currency      @default(USD)
-  balance       Float         @default(0)
-  user          User          @relation(fields:[userId])
-  userId        String
-  transactions  Transaction[]
+    id            String        @id @default(cuid())
+    createdAt     DateTime      @default(now())
+    name          String
+    currency      Currency      @default(USD)
+    balance       Float         @default(0)
+    user          User          @relation(fields: [userId])
+    userId        String
+    transactions  Transaction[]
 }
 model Transaction {
-  id        String              @id @default(cuid())
-  createdAt DateTime @default(now())
-  updatedAt DateTime @updatedAt
-  amount    Float
-  account   Account  @relation(fields: [accountId])
-  accountId String
+    id            String            @id @default(cuid())
+    createdAt     DateTime          @default(now())
+    amount        Float
+    account       Account           @relation(fields: [accountId])
+    accountId     String
 }
 enum UserRole {
-  ADMIN
-  EMPLOYEE
+    ADMIN
+    EMPLOYEE
 }
 enum Currency {
-  USD
-  EUR
-  RUB
+    USD
+    EUR
+    RUB
 }
```


